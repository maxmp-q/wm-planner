<section class="card">
  <div class="card-title">
    @if(editMode()){
      <input class="rename-input" type="text" [(ngModel)]="newCardName">
      <button class="menu-button" (click)="deleteCard()">
        <app-icon which="delete"/>
      </button>
    } @else {
      <span class="card-name" (click)="toggleExpanded()">
        <app-icon [which]="expanded() ? 'arrow_down' : 'arrow_right'"
                  height="12"
                  width="12"
        />
        {{card()?.title}}
      </span>
    }
    <button class="menu-button" (click)="openMenu()">
      <app-icon which="menu_dots" height="20px" width="20px"/>
    </button>
  </div>

  @if(expanded()){
    @for (timeSlot of card()?.timeSlots; track timeSlot.id){
      <app-time-slot [timeSlot]="timeSlot" [card]="card()" />
    }
    @if(showAdd()){
      <div class="add-form">
        <label class="add-form-label">
          Timeslot Name
          <input class="add-form-input" type="text" [(ngModel)]="time">
        </label>
        <button class="add-form-button" (click)="submitForm()">Erstellen</button>
      </div>
    }
    <button class="add-timeslot" (click)="addTimeslot()"> Timeslot hinzuf√ºgen</button>
  }
</section>


